# config/stalwart/config.toml â€” Configuration minimale Stalwart pour dev local

[server]
hostname = "mail.press.local"

[server.listener.smtp]
bind = [{ addr = "0.0.0.0", port = 25 }]
protocol = "smtp"

[server.listener.submission]
bind = [{ addr = "0.0.0.0", port = 587 }]
protocol = "smtp"
tls.implicit = false

[server.listener.imaps]
bind = [{ addr = "0.0.0.0", port = 993 }]
protocol = "imap"
tls.implicit = true

[server.listener.management]
bind = [{ addr = "0.0.0.0", port = 8080 }]
protocol = "http"

[authentication.fallback_admin]
user = "admin"
secret = "admin123"

[store.db]
type = "sqlite"
path = "/opt/stalwart/data/data.db"

[store.blob]
type = "fs"
path = "/opt/stalwart/data/blobs"

[queue.outbound]
next-hop = [{if = "rcpt_domain", matches = "press.local", then = "local"}]
